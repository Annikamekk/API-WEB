{% layout "server/layouts/base.liquid" %}

{% block content %}
<ul id="photoContainer">
  {% for photo in photos %}
  <li>
    <!-- Dynamisch gegenereerde ID voor elke dialoog -->
    <dialog id="foto-{{ photo.id }}">
      <form class="moreDetails" id="moreDetailsOver" method="dialog">
        <button type="submit" aria-label="Close modal">√ó</button>

        <div class="dialog-image" style="--aspect-ratio: {{ photo.width }} / {{ photo.height }};">
          <img src="{{ photo.urls.full }}" alt="{{ photo.alt_description }}" id="card__image">
        </div>

        <div class="details-content">
          <a href="/users/{{ photo.user.username }}">
            <h2>{{ photo.user.name }}</h2>
          </a>
          <p>üìç{{ photo.user.location }}</p>
          <p>{{ photo.alt_description }}</p>
          {% comment %} <ul>
            <li></li>
          </ul> {% endcomment %}
          <button class="likeButton" type="button" data-photo-id="{{ photo.id }}" aria-label="Like photo">
            <svg xmlns="http://www.w3.org/2000/svg" class="PpK6d" viewBox="0 0 24 24" version="1.1" aria-hidden="false"
              fill="none" stroke="rgba(35, 31, 36, 1)" stroke-width="1">

              <defs>
                <linearGradient id="heartGradient-{{ photo.id }}" x1="0%" y1="0%" x2="80%" y2="100%">
                  <stop offset="0%" stop-color="rgba(187, 175, 205, 0.8253895308123249)" />
                  <stop offset="70%" stop-color="rgba(71, 56, 76, 1)" />
                  <stop offset="100%" stop-color="rgba(40, 31, 36, 1)" />
                </linearGradient>
              </defs>

              <desc lang="en-US">A heart</desc>
              <path data-photo-id="{{ photo.id }}"
                d="M21.424 4.594c-2.101-2.125-5.603-2.125-7.804 0l-1.601 1.619-1.601-1.62c-2.101-2.124-5.603-2.124-7.804 0-2.202 2.126-2.102 5.668 0 7.894L12.019 22l9.405-9.513a5.73 5.73 0 0 0 0-7.893Z"
                fill="transparent" />
            </svg>
          </button>


        </div>
      </form>
    </dialog>


    <!-- Button om het dialoogvenster te openen -->
    <button onclick="document.getElementById('foto-{{ photo.id }}').showModal()">
      <img src="{{ photo.urls.regular}}" alt="{{ photo.alt_description }}" id="card__image">
    </button>
  </li>
  {% endfor %}
</ul>

{% comment %} <ul class="grid" id="photoContainer">
  {% for photo in photos %}
  <li>
    <a href="/users/{{ photo.user.username }}">
      <img src="{{ photo.urls.small_s3 }}" alt="{{ photo.alt_description }}" id="card__image">
    </a>
    <dialog>

    </dialog>
  </li>
  {% endfor %}
</ul> {% endcomment %}

{% endblock %}